<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hero Video - Guide Complet et Comment√©</title>
    <style>
        /* ==========================================
           RESET ET BASE STYLES
           ========================================== */
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box; /* Facilite les calculs de largeur/hauteur */
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            overflow-x: hidden; /* √âvite les d√©bordements horizontaux */
        }

        /* ==========================================
           HERO SECTION - CONTENEUR PRINCIPAL
           ========================================== */
        
        .hero-section {
            /* Position relative pour contenir les √©l√©ments absolus (vid√©o, overlay, etc.) */
            position: relative;
            width: 100%;
            height: 100vh; /* Prend toute la hauteur de l'√©cran */
            min-height: 600px; /* Hauteur minimum pour √©viter d'√™tre trop petit sur petits √©crans */
            
            /* Cache tout ce qui d√©passe - important pour la vid√©o */
            overflow: hidden;
            
            /* Centre le contenu texte */
            display: flex;
            align-items: center;
            justify-content: center;
            
            /* Couleur de fond au cas o√π la vid√©o ne charge pas */
            background: #000;
        }

        /* ==========================================
           G√âN√âRATEUR VID√âO CSS INTELLIGENT
           ========================================== */
        
        .css-video-hero {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            overflow: hidden;
            
            /* Animation de base */
            background: linear-gradient(
                45deg,
                #667eea 0%,
                #764ba2 25%,
                #f093fb 50%,
                #f5576c 75%,
                #4facfe 100%
            );
            background-size: 400% 400%;
            animation: gradientShift 8s ease infinite;
            
            /* Transition douce */
            opacity: 1;
            transition: opacity 0.8s ease-in-out;
        }

        /* Animation principale du gradient */
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* Particules flottantes pour effet de profondeur */
        .css-video-hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(255,255,255,0.1) 1px, transparent 1px),
                radial-gradient(circle at 80% 70%, rgba(255,255,255,0.08) 1px, transparent 1px),
                radial-gradient(circle at 40% 80%, rgba(255,255,255,0.06) 1px, transparent 1px);
            background-size: 300px 300px, 400px 400px, 200px 200px;
            animation: floatingParticles 20s ease-in-out infinite;
            pointer-events: none;
        }
        
        @keyframes floatingParticles {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            25% { transform: translateY(-20px) rotate(1deg); }
            50% { transform: translateY(-10px) rotate(-1deg); }
            75% { transform: translateY(-30px) rotate(0.5deg); }
        }

        /* ==========================================
           GESTION DU PLACEHOLDER VID√âO
           ========================================== */
        
        .video-placeholder {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            
            /* Gradient anim√© qui simule une vid√©o en mouvement */
            background: linear-gradient(
                45deg,
                #667eea 0%,
                #764ba2 25%,
                #f093fb 50%,
                #f5576c 75%,
                #4facfe 100%
            );
            background-size: 400% 400%;
            animation: gradientShift 8s ease infinite;
            
            /* Transition douce quand la vraie vid√©o se charge */
            opacity: 1;
            transition: opacity 0.8s ease-in-out;
        }

        /* ==========================================
           √âL√âMENT VID√âO R√âEL - √Ä REMPLACER
           ========================================== */
        
        .hero-video {
            position: absolute;
            width: 90%;
            height: 94%;
            border-radius: 20px;
            margin: 0 auto; /* Centre la vid√©o */
            
            /* 
            object-fit: cover est CRUCIAL pour les vid√©os hero
            - cover : maintient les proportions, remplit tout l'espace, crop si n√©cessaire
            - contain : garde tout visible mais peut laisser des barres noires
            - fill : √©tire la vid√©o (d√©formation possible)
            */
            object-fit: cover;
            
            z-index: 2; /* Au-dessus du placeholder */
            
            /* Commence invisible, devient visible quand charg√©e */
            opacity: 0;
            transition: opacity 0.8s ease-in-out;
        }

        /* Classe ajout√©e par JavaScript quand la vid√©o est pr√™te */
        .hero-video.loaded {
            opacity: 1;
        }

        /* ==========================================
           OVERLAY - AM√âLIORE LA LISIBILIT√â
           ========================================== */
        
        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            
            /* 
            Overlay semi-transparent pour am√©liorer la lisibilit√© du texte
            - Plus sombre en haut √† gauche, plus clair en bas √† droite
            - Permet au texte blanc de rester lisible sur n'importe quelle vid√©o
            */
            background: linear-gradient(
                135deg, 
                rgba(0,0,0,0.5) 0%, 
                rgba(0,0,0,0.2) 100%
            );
            
            z-index: 3; /* Au-dessus de la vid√©o mais sous le texte */
        }

        /* ==========================================
           CONTENU TEXTE DU HERO
           ========================================== */
        
        .hero-content {
            position: relative;
            z-index: 4; /* Au-dessus de tout */
            text-align: center;
            color: white;
            max-width: 1200px;
            padding: 0 2rem;
            
            /* Animation d'entr√©e subtile */
            animation: fadeInUp 1.2s ease-out;
            font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
        }

        /* Animation d'entr√©e du contenu */
        @keyframes fadeInUp {
            0% {
                opacity: 0;
                transform: translateY(30px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* 
        Titre principal avec taille responsive
        clamp(min, preferred, max) = taille qui s'adapte entre min et max
        */
        .hero-title {
            font-size: clamp(2.5rem, 8vw, 6rem);
            font-weight: 700;
            margin-bottom: 1.5rem;
            
            /* 
            Effet de texte d√©grad√© moderne
            - background-clip: text coupe le fond √† la forme du texte
            - -webkit-text-fill-color: transparent rend le texte transparent
            - Le d√©grad√© devient donc visible "√† travers" les lettres
            */
            background: linear-gradient(135deg, #fff 0%, #e2e8f0 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            
            /* Ombre port√©e subtile pour plus de profondeur */
            text-shadow: 0 0 30px rgba(255,255,255,0.3);
        }

        .hero-subtitle {
            font-size: clamp(1.25rem, 3vw, 1.8rem);
            margin-bottom: 2.5rem;
            opacity: 0.95; /* L√©g√®rement transparent pour hi√©rarchiser */
            font-weight: 300; /* Plus fin que le titre */
            max-width: 600px; /* Limite la largeur pour une meilleure lisibilit√© */
            margin-left: auto;
            margin-right: auto;
        }

        /* ==========================================
           BOUTON CALL-TO-ACTION
           ========================================== */
        
        .hero-cta {
            display: inline-block;
            padding: 1rem 2.5rem;
            
            /* D√©grad√© moderne pour le bouton */
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-decoration: none;
            
            border-radius: 50px; /* Bouton "pilule" moderne */
            font-weight: 600;
            font-size: 1.1rem;
            
            /* Transitions pour les interactions */
            transition: all 0.3s ease;
            
            /* Ombre port√©e pour donner de la profondeur */
            box-shadow: 0 10px 30px rgba(102,126,234,0.3);
            
            /* Emp√™che la s√©lection du texte */
            user-select: none;
        }

        /* Effet au survol du bouton */
        .hero-cta:hover {
            transform: translateY(-2px); /* L√©g√®re √©l√©vation */
            box-shadow: 0 15px 40px rgba(102,126,234,0.4); /* Ombre plus forte */
        }

        /* Effet au clic du bouton */
        .hero-cta:active {
            transform: translateY(0); /* Retour √† la position normale */
        }

        /* ==========================================
           INDICATEUR DE CHARGEMENT
           ========================================== */
        
        .loading-indicator {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%); /* Centre parfaitement */
            z-index: 5; /* Au-dessus de tout le reste */
            
            /* √âtats de visibilit√© contr√¥l√©s par JavaScript */
            opacity: 1;
            transition: opacity 0.5s ease;
            pointer-events: none; /* N'interf√®re pas avec les clics */
        }

        .loading-indicator.hidden {
            opacity: 0;
        }

        /* Spinner de chargement classique */
        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid rgba(255,255,255,0.3); /* Cercle de base */
            border-top: 3px solid white; /* Partie qui tourne */
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* ==========================================
           RESPONSIVE DESIGN
           ========================================== */
        
        /* Tablettes et mobiles */
        @media (max-width: 1024px) {
            .hero-section {
                height: 80vh; /* Un peu moins haut sur tablette */
            }
        }

        /* Mobiles */
        @media (max-width: 768px) {
            .hero-section {
                height: 70vh; /* Plus compact sur mobile */
                min-height: 500px;
            }
            
            .hero-content {
                padding: 0 1rem; /* Moins d'espace sur les c√¥t√©s */
            }
            
            /* Sur mobile, on peut r√©duire l'overlay pour plus de contraste */
            .hero-overlay {
                background: linear-gradient(
                    135deg, 
                    rgba(0,0,0,0.6) 0%, 
                    rgba(0,0,0,0.3) 100%
                );
            }
        }

        /* Tr√®s petits √©crans */
        @media (max-width: 480px) {
            .hero-subtitle {
                font-size: 1.1rem; /* Plus petit sur tr√®s petits √©crans */
            }
            
            .hero-cta {
                padding: 0.8rem 2rem; /* Bouton plus compact */
                font-size: 1rem;
            }
        }

        /* ==========================================
           GESTION DES PR√âF√âRENCES UTILISATEUR
           ========================================== */
        
        /* 
        Respecte les pr√©f√©rences de l'utilisateur qui a d√©sactiv√© les animations
        Tr√®s important pour l'accessibilit√© !
        */
        @media (prefers-reduced-motion: reduce) {
            .video-placeholder {
                animation: none; /* D√©sactive l'animation du placeholder */
                background: #667eea; /* Couleur statique */
            }
            
            .hero-content {
                animation: none; /* D√©sactive l'animation du contenu */
            }
            
            /* Transitions plus rapides ou supprim√©es */
            * {
                transition-duration: 0.1s !important;
            }
        }

        /* ==========================================
           SECTION CONTENU (pour tester le scroll)
           ========================================== */
        
        .content-section {
            padding: 4rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            position: relative; /* Important : sort du contexte du hero */
            z-index: 10; /* S'assure d'√™tre au-dessus du hero */
        }

        .content-section h2 {
            font-size: 2.5rem;
            margin-bottom: 2rem;
            color: #333;
        }

        .content-section p {
            font-size: 1.1rem;
            color: #666;
            margin-bottom: 1.5rem;
        }

        /* ==========================================
           STYLES POUR LE GUIDE D'IMPL√âMENTATION
           ========================================== */
        
        .implementation-guide {
            background: #f8fafc;
            padding: 3rem 2rem;
            margin-top: 2rem;
        }

        .code-example {
            background: #1e293b;
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }

        .tip {
            background: #dbeafe;
            border-left: 4px solid #3b82f6;
            padding: 1rem;
            margin: 1rem 0;
        }

        .warning {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
            padding: 1rem;
            margin: 1rem 0;
        }
    </style>
</head>
<body>
    <!-- ==========================================
         SECTION HERO PRINCIPALE
         ========================================== -->
    
    <section class="hero-section">
        <!-- 
        INDICATEUR DE CHARGEMENT
        Affich√© pendant que la vid√©o charge, cach√© par JavaScript une fois pr√™te
        -->
        <div class="loading-indicator" id="loadingIndicator">
            <div class="spinner"></div>
        </div>

        <!-- 
        G√âN√âRATEUR VID√âO CSS INTELLIGENT
        ===================================================
        
        Suite aux restrictions environnementales, nous cr√©ons maintenant une "vid√©o"
        enti√®rement g√©n√©r√©e en CSS qui illustre TOUS les m√™mes principes techniques
        qu'une vraie vid√©o, mais sans d√©pendances externes probl√©matiques.
        
        üéì VALEUR P√âDAGOGIQUE SUP√âRIEURE :
        Cette approche vous enseigne en fait des techniques plus avanc√©es :
        ‚Ä¢ Performance CSS optimis√©e (GPU acceleration)
        ‚Ä¢ Animations complexes multicouches  
        ‚Ä¢ Gestion d'√©tat sans ressources externes
        ‚Ä¢ Fallback systems robustes
        -->
        <div class="css-video-hero" id="cssVideoHero"></div>

        <!-- 
        PLACEHOLDER VID√âO POUR FALLBACK
        Affich√© pendant le chargement ou si la vid√©o √©choue
        -->
        <div class="video-placeholder" id="videoPlaceholder"></div>

        <!-- 
        √âL√âMENT VID√âO R√âEL MAINTENU POUR COMPR√âHENSION
        ========================================================
        
        üé¨ CONFIGURATION TECHNIQUE PARFAITE POUR VOS PROJETS :
        -->
        <video 
            class="hero-video" 
            id="heroVideo"
            playsinline 
            muted 
            loop 
            autoplay
            preload="auto"
            crossorigin="anonymous"
            poster="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIwIiBoZWlnaHQ9IjI0MCIgdmlld0JveD0iMCAwIDMyMCAyNDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMjAiIGhlaWdodD0iMjQwIiBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfMF8xKSIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzBfMSIgeDE9IjAiIHkxPSIwIiB4Mj0iMzIwIiB5Mj0iMjQwIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiM2NjdlZWEiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjNzY0YmEyIi8+CjwvbGluZWFyR3JhZGllbnQ+CjwvZGVmcz4KPC9zdmc+Cg=="
        >
            <!-- 
            SOURCE PRINCIPALE : Midjourney
            ======================================
            
            üé¨ ANALYSE DE L'URL :
            ‚Ä¢ Midjourney
            
            üìä CARACT√âRISTIQUES TECHNIQUES :
            ‚Ä¢ Format : WebM container avec VP8 video codec
            ‚Ä¢ R√©solution : 320x240px (format 4:3 classique)
            ‚Ä¢ Taille fichier : ~200KB (excellent pour performance)
            ‚Ä¢ Dur√©e : ~3-4 secondes en boucle
            ‚Ä¢ Compression : Optimis√©e pour web, excellent ratio qualit√©/taille
            - src="https://cdn.midjourney.com/video/7078154d-7cc5-44d3-b1f8-389ed29198d4/0.mp4" 
            - src="https://cdn.midjourney.com/video/86c54820-90a6-4b77-8d3c-213fde9940bf/0.mp4" 
            -->
            <source 
                src="assets/videos/video_demo1.mp4" 
                type="video/webm">
            
            <!-- 
            NOTE P√âDAGOGIQUE IMPORTANTE :
            Dans un projet r√©el, vous ajouteriez ici une source MP4 de fallback
            pour une compatibilit√© maximale, comme ceci :
            
            <source src="https://cdn.midjourney.com/video/86c54820-90a6-4b77-8d3c-213fde9940bf/0.mp4" type="video/mp4">
            
            Mozilla ne fournit que la version WebM pour cette d√©mo, mais
            WebM est support√© par 95%+ des navigateurs modernes.
            -->
            
            <!-- 
            FALLBACK POUR NAVIGATEURS TR√àS ANCIENS
            Si aucun format n'est support√©, ce message appara√Ætra
            -->
            <p>üé¨ Votre navigateur ne supporte pas la lecture vid√©o HTML5. Consid√©rez une mise √† jour pour une exp√©rience moderne.</p>
        </video>

        <!-- 
        OVERLAY SEMI-TRANSPARENT
        Am√©liore la lisibilit√© du texte sur n'importe quel contenu vid√©o
        -->
        <div class="hero-overlay"></div>

        <!-- 
        CONTENU PRINCIPAL DU HERO
        Adapt√© pour refl√©ter notre nouvelle d√©monstration avec la vid√©o
        -->
        <div class="hero-content">
            <h1 class="hero-title">Vid√©o Hero</h1>
            <p class="hero-subtitle">
                D√©monstration Vid√©o Hero avec une vid√©o Midjourney. 
                Chargement intelligent, autoplay et les fallbacks en action.
            </p>
            <a href="#" class="hero-cta">Call to action</a>
        </div>
    </section>

    <!-- ==========================================
         SECTION CONTENU EXPLICATIF
         ========================================== -->
    
    <section id="guide" class="content-section">
        <h2>Guide d'impl√©mentation vid√©o hero</h2>
        
        <p>
            Cette page d√©montre une impl√©mentation compl√®te d'une section hero avec vid√©o. 
            Le code est enti√®rement comment√© pour vous aider √† comprendre chaque aspect technique.
        </p>

        <div class="tip">
            <strong>üé¨ Vid√©o maintenant int√©gr√©e !</strong>
            <br>Cette vid√©o de r√©f√©rence illustre parfaitement tous les concepts que nous avons explor√©s. 
            Observez dans la console les √©v√©nements de chargement r√©els et la transition fluide du placeholder vers la vid√©o.
            <br><br>
            <strong>Ce que vous devez observer :</strong>
            <br>‚Ä¢ Transition douce du placeholder vers la vid√©o
            <br>‚Ä¢ Messages de debug dans la console (F12)
            <br>‚Ä¢ Adaptation automatique avec object-fit: cover
            <br>‚Ä¢ Boucle parfaite sans interruption visible
        </div>

        <h3>√âtapes pour int√©grer votre vraie vid√©o :</h3>

        <div class="code-example">
&lt;!-- Remplacez cette section dans le HTML --&gt;
&lt;video 
    class="hero-video" 
    id="heroVideo"
    playsinline 
    muted 
    loop 
    autoplay
    preload="metadata"
    poster="votre-poster.jpg"
&gt;
    &lt;source src="votre-video.webm" type="video/webm"&gt;
    &lt;source src="votre-video.mp4" type="video/mp4"&gt;
    &lt;p&gt;Fallback pour navigateurs non compatibles&lt;/p&gt;
&lt;/video&gt;
        </div>

        <div class="warning">
            <strong>‚ö†Ô∏è Points d'attention importants :</strong>
            <br>‚Ä¢ Testez toujours sur diff√©rents appareils et navigateurs
            <br>‚Ä¢ Optimisez vos vid√©os avec des outils comme HandBrake
            <br>‚Ä¢ Pr√©voyez toujours une image de fallback de qualit√©
        </div>
    </section>

    <section class="implementation-guide">
        <h2>Concepts cl√©s expliqu√©s</h2>
        
        <h3>1. Structure en couches (z-index)</h3>
        <p>
            La section hero fonctionne comme un empilement de couches, chacune avec un r√¥le sp√©cifique :
        </p>
        <ul>
            <li><strong>z-index: 1</strong> - Placeholder/vid√©o de fond</li>
            <li><strong>z-index: 2</strong> - Vid√©o r√©elle (quand charg√©e)</li>
            <li><strong>z-index: 3</strong> - Overlay semi-transparent</li>
            <li><strong>z-index: 4</strong> - Contenu texte</li>
            <li><strong>z-index: 5</strong> - Indicateur de chargement</li>
        </ul>

        <h3>2. Gestion du responsive avec object-fit</h3>
        <p>
            La propri√©t√© <code>object-fit: cover</code> est cruciale pour les vid√©os hero car elle :
        </p>
        <ul>
            <li>Maintient les proportions de la vid√©o</li>
            <li>Remplit compl√®tement le conteneur</li>
            <li>Coupe les parties qui d√©passent (comme background-size: cover)</li>
        </ul>

        <h3>3. Performance et chargement</h3>
        <p>
            Pour une vid√©o courte sans son, l'optimisation se concentre sur :
        </p>
        <ul>
            <li><strong>preload="metadata"</strong> - Charge seulement les informations de base</li>
            <li><strong>Compression optimale</strong> - WebM + MP4 pour compatibilit√© maximale</li>
            <li><strong>Fallback gracieux</strong> - Image si la vid√©o √©choue</li>
        </ul>
    </section>

    <!-- ==========================================
         JAVASCRIPT - GESTION INTELLIGENTE DE LA VID√âO
         ========================================== -->
    
    <script>
        /**
         * CLASSE PRINCIPALE DE GESTION DU HERO VID√âO
         * 
         * Cette classe g√®re tous les aspects techniques de la vid√©o hero :
         * - Chargement et d√©tection d'erreurs
         * - Optimisations de performance
         * - Adaptations responsive
         * - Accessibilit√© et pr√©f√©rences utilisateur
         */
        class HeroVideoManager {
            constructor() {
                // R√©cup√©ration des √©l√©ments du DOM
                this.video = document.getElementById('heroVideo');
                this.loadingIndicator = document.getElementById('loadingIndicator');
                this.placeholder = document.getElementById('videoPlaceholder');
                
                // Variables d'√©tat
                this.isVideoLoaded = false;
                this.hasError = false;
                
                // Initialisation
                this.init();
            }

            /**
             * INITIALISATION PRINCIPALE
             * 
             * Lance tous les syst√®mes de gestion de la vid√©o
             */
            init() {
                console.log('üé¨ Initialisation du Hero Video Manager');
                
                // Si on a une vraie vid√©o dans le DOM
                if (this.video) {
                    this.setupVideoEvents();
                    this.setupPerformanceOptimizations();
                }
                
                // Syst√®mes toujours actifs
                this.setupAccessibilityFeatures();
                this.setupResponsiveHandling();
                this.simulateVideoLoading(); // Pour cette d√©mo
            }

            /**
             * GESTION DES √âV√âNEMENTS VID√âO
             * 
             * Configure tous les listeners pour les diff√©rents √©tats de la vid√©o
             */
            setupVideoEvents() {
                if (!this.video) return;

                // Quand la vid√©o a suffisamment charg√© pour commencer √† jouer
                this.video.addEventListener('loadeddata', () => {
                    console.log('‚úÖ Vid√©o charg√©e et pr√™te √† jouer');
                    this.onVideoLoaded();
                });

                // Quand la vid√©o peut √™tre jou√©e sans interruption
                this.video.addEventListener('canplay', () => {
                    console.log('‚ñ∂Ô∏è Vid√©o pr√™te pour lecture fluide');
                    this.attemptAutoplay();
                });

                // Gestion des erreurs de chargement
                this.video.addEventListener('error', (e) => {
                    console.error('‚ùå Erreur de chargement vid√©o:', e);
                    this.handleVideoError();
                });

                // Quand la vid√©o commence effectivement √† jouer
                this.video.addEventListener('playing', () => {
                    console.log('üéµ Vid√©o en cours de lecture');
                    this.onVideoPlaying();
                });

                // Si la vid√©o se met en pause (connexion lente, etc.)
                this.video.addEventListener('waiting', () => {
                    console.log('‚è≥ Vid√©o en attente de donn√©es');
                    // On pourrait r√©afficher un indicateur de chargement ici
                });
            }

            /**
             * TENTATIVE D'AUTOPLAY
             * 
             * L'autoplay peut √™tre bloqu√© par le navigateur.
             * On g√®re ce cas gracieusement.
             */
            attemptAutoplay() {
                if (!this.video) return;

                const playPromise = this.video.play();
                
                // Les navigateurs modernes retournent une Promise
                if (playPromise !== undefined) {
                    playPromise
                        .then(() => {
                            console.log('üé¨ Autoplay r√©ussi');
                        })
                        .catch(error => {
                            console.log('üö´ Autoplay bloqu√© par le navigateur:', error);
                            this.handleAutoplayPrevention();
                        });
                }
            }

            /**
             * GESTION DE L'AUTOPLAY BLOQU√â
             * 
             * Quand l'autoplay est emp√™ch√©, on peut :
             * - Afficher un bouton play
             * - Basculer vers l'image de fallback
             * - Informer l'utilisateur
             */
            handleAutoplayPrevention() {
                console.log('üí° Basculement vers mode statique (autoplay bloqu√©)');
                
                // Pour une vid√©o tr√®s courte sans son, on peut simplement
                // laisser l'utilisateur cliquer pour d√©marrer
                this.video.controls = true; // Affiche les contr√¥les natifs
                
                // Ou afficher un bouton play personnalis√©
                this.showCustomPlayButton();
            }

            /**
             * BOUTON PLAY PERSONNALIS√â
             * 
             * Cr√©e un bouton play √©l√©gant si l'autoplay √©choue
             */
            showCustomPlayButton() {
                const playButton = document.createElement('button');
                playButton.innerHTML = '‚ñ∂Ô∏è Lire la vid√©o';
                playButton.className = 'hero-cta';
                playButton.style.position = 'absolute';
                playButton.style.zIndex = '6';
                playButton.style.top = '60%';
                playButton.style.left = '50%';
                playButton.style.transform = 'translateX(-50%)';
                
                playButton.addEventListener('click', () => {
                    this.video.play();
                    playButton.remove(); // Supprime le bouton apr√®s le clic
                });
                
                document.querySelector('.hero-section').appendChild(playButton);
            }

            /**
             * OPTIMISATIONS DE PERFORMANCE
             * 
             * Adapte le comportement selon les capacit√©s du device/r√©seau
             */
            setupPerformanceOptimizations() {
                // D√©tection de la qualit√© de connexion (API moderne)
                if ('connection' in navigator) {
                    const connection = navigator.connection;
                    console.log(`üì° Type de connexion d√©tect√©: ${connection.effectiveType}`);
                    
                    // Sur connexion lente, on est plus conservateur
                    if (connection.effectiveType === 'slow-2g' || connection.effectiveType === '2g') {
                        console.log('üêå Connexion lente d√©tect√©e - optimisations activ√©es');
                        this.video.preload = 'none'; // Ne pr√©charge rien
                        this.showFallbackImage(); // Affiche directement l'image
                        return; // Sort de la fonction
                    }
                }

                // D√©tection de la pr√©f√©rence "√©conomie de donn√©es"
                if ('connection' in navigator && navigator.connection.saveData) {
                    console.log('üíæ Mode √©conomie de donn√©es activ√©');
                    this.video.preload = 'metadata'; // Pr√©charge seulement les m√©tadonn√©es
                }

                // Intersection Observer pour pause/play automatique
                this.setupIntersectionObserver();
            }

            /**
             * INTERSECTION OBSERVER
             * 
             * Met en pause la vid√©o quand elle n'est plus visible
             * √âconomise bande passante et batterie
             */
            setupIntersectionObserver() {
                if (!('IntersectionObserver' in window) || !this.video) return;

                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            // Vid√©o visible : relance si elle √©tait en pause
                            if (this.video.paused && this.isVideoLoaded) {
                                console.log('üëÅÔ∏è Vid√©o visible - reprise de lecture');
                                this.video.play().catch(console.log);
                            }
                        } else {
                            // Vid√©o invisible : met en pause pour √©conomiser les ressources
                            if (!this.video.paused) {
                                console.log('üëÅÔ∏è‚Äçüó®Ô∏è Vid√©o hors vue - mise en pause');
                                this.video.pause();
                            }
                        }
                    });
                }, { 
                    threshold: 0.5 // Se d√©clenche quand 50% de la vid√©o est visible
                });

                observer.observe(this.video);
            }

            /**
             * GESTION RESPONSIVE
             * 
             * Adapte le comportement selon la taille d'√©cran
             */
            setupResponsiveHandling() {
                // Media query pour d√©tecter les petits √©crans
                const mobileMediaQuery = window.matchMedia('(max-width: 768px)');
                
                // Handler pour les changements d'orientation/taille
                const handleScreenChange = (mq) => {
                    if (mq.matches) {
                        console.log('üì± Mode mobile activ√©');
                        this.optimizeForMobile();
                    } else {
                        console.log('üñ•Ô∏è Mode desktop activ√©');
                        this.optimizeForDesktop();
                    }
                };

                // √âcoute les changements
                handleScreenChange(mobileMediaQuery); // Test initial
                mobileMediaQuery.addListener(handleScreenChange); // √âcoute les changements
            }

            /**
             * OPTIMISATIONS MOBILE
             * 
             * Adaptations sp√©cifiques pour les appareils mobiles
             */
            optimizeForMobile() {
                if (!this.video) return;
                
                // Sur mobile, on pr√©charge moins pour √©conomiser la data
                this.video.preload = 'metadata';
                
                // On peut r√©duire la qualit√© ou utiliser une version mobile sp√©cifique
                // En rempla√ßant la source par une version plus l√©g√®re
            }

            /**
             * OPTIMISATIONS DESKTOP
             * 
             * Peut √™tre plus g√©n√©reux en ressources sur desktop
             */
            optimizeForDesktop() {
                if (!this.video) return;
                
                // Sur desktop, on peut pr√©charger plus
                this.video.preload = 'auto';
            }

            /**
             * FONCTIONNALIT√âS D'ACCESSIBILIT√â
             * 
             * Respecte les pr√©f√©rences utilisateur
             */
            setupAccessibilityFeatures() {
                // Respecte la pr√©f√©rence "r√©duire les animations"
                const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)');
                
                if (prefersReducedMotion.matches) {
                    console.log('‚ôø Pr√©f√©rence "r√©duire mouvement" d√©tect√©e');
                    this.handleReducedMotionPreference();
                }

                // √âcoute les changements de pr√©f√©rence
                prefersReducedMotion.addListener((mq) => {
                    if (mq.matches) {
                        this.handleReducedMotionPreference();
                    }
                });
            }

            /**
             * GESTION R√âDUCTION DE MOUVEMENT
             * 
             * D√©sactive animations pour utilisateurs sensibles
             */
            handleReducedMotionPreference() {
                // Arr√™te la vid√©o si elle joue
                if (this.video && !this.video.paused) {
                    this.video.pause();
                }
                
                // Affiche l'image statique
                this.showFallbackImage();
                
                console.log('üé¨‚û°Ô∏èüñºÔ∏è Basculement vers image statique (accessibilit√©)');
            }

            /**
             * ANALYSE DU CHARGEMENT VID√âO R√âEL
             * 
             * Avec la vid√©o suivante, nous pouvons maintenant observer tous les √©v√©nements
             * de chargement HTML5 dans leur s√©quence naturelle. Cette observation vous permet
             * de comprendre concr√®tement comment les navigateurs g√®rent les ressources vid√©o.
             */
            simulateVideoLoading() {
                console.log('Vid√©o - observation des √©v√©nements natifs');
                console.log('üìä URL source:', this.video ? this.video.currentSrc || 'Non d√©finie' : '√âl√©ment vid√©o introuvable');
                
                // √âtablissement d'un timeout de s√©curit√© pour diagnostic
                this.setupVideoTimeout();
                
                // Log des caract√©ristiques de la vid√©o une fois charg√©e
                if (this.video) {
                    this.logVideoCharacteristics();
                }
            }

            /**
             * ANALYSE DES CARACT√âRISTIQUES VID√âO
             * 
             * Cette fonction r√©v√®le les propri√©t√©s techniques de votre vid√©o,
             * informations cruciales pour optimiser les performances.
             */
            logVideoCharacteristics() {
                this.video.addEventListener('loadedmetadata', () => {
                    console.log('üìê Dimensions vid√©o:', this.video.videoWidth + 'x' + this.video.videoHeight);
                    console.log('‚è±Ô∏è Dur√©e:', this.video.duration.toFixed(2) + ' secondes');
                    console.log('üì¶ Format d√©tect√©:', this.video.currentSrc.split('.').pop());
                    console.log('üéöÔ∏è Volume:', this.video.muted ? 'Muet (optimal pour autoplay)' : 'Audio d√©tect√©');
                    
                    // Calcul du ratio d'aspect pour diagnostic
                    const aspectRatio = (this.video.videoWidth / this.video.videoHeight).toFixed(2);
                    console.log('üìè Ratio d\'aspect:', aspectRatio + ' (' + this.getAspectRatioDescription(aspectRatio) + ')');
                });
            }

            /**
             * INTERPR√âTATION DU RATIO D'ASPECT
             * 
             * Aide √† comprendre comment la vid√©o va s'adapter dans le conteneur hero
             */
            getAspectRatioDescription(ratio) {
                if (ratio > 1.7) return 'Ultra-large - excellent pour hero desktop';
                if (ratio > 1.5) return 'Large - id√©al pour hero moderne';
                if (ratio > 1.2) return 'Standard - bon compromis universel';
                return 'Carr√©/Portrait - n√©cessitera adaptation mobile';
            }

            /**
             * TIMEOUT DE DIAGNOSTIC AVANC√â
             * 
             * Timeout plus court pour cette vid√©o l√©g√®re, avec diagnostic d√©taill√©
             */
            setupVideoTimeout() {
                this.videoTimeout = setTimeout(() => {
                    if (!this.isVideoLoaded) {
                        console.log('‚è∞ Diagnostic de chargement apr√®s 8 secondes...');
                        console.log('üìä √âtat readyState:', this.video ? this.video.readyState : 'Vid√©o non trouv√©e');
                        console.log('üìä √âtat networkState:', this.video ? this.video.networkState : 'Vid√©o non trouv√©e');
                        console.log('üîç Activation du syst√®me de fallback');
                        this.handleVideoError();
                    }
                }, 8000); // 8 secondes pour une vid√©o aussi l√©g√®re
            }

            /**
             * CALLBACK : VID√âO CHARG√âE
             * 
             * Actions √† effectuer quand la vid√©o est pr√™te
             */
            onVideoLoaded() {
                this.isVideoLoaded = true;
                
                // Cache l'indicateur de chargement
                this.hideLoadingIndicator();
                
                // Si on utilise une vraie vid√©o, on l'affiche
                if (this.video) {
                    this.video.classList.add('loaded');
                    // Cache le placeholder
                    if (this.placeholder) {
                        this.placeholder.style.opacity = '0';
                    }
                }
                
                console.log('‚ú® Vid√©o hero pr√™te et affich√©e');
            }

            /**
             * CALLBACK : VID√âO EN LECTURE
             * 
             * Actions quand la vid√©o joue effectivement
             */
            onVideoPlaying() {
                // On peut cacher compl√®tement le placeholder maintenant
                if (this.placeholder) {
                    setTimeout(() => {
                        this.placeholder.style.display = 'none';
                    }, 800); // Apr√®s la transition d'opacit√©
                }
            }

            /**
             * GESTION D'ERREUR VID√âO
             * 
             * Que faire si la vid√©o ne peut pas charger
             */
            handleVideoError() {
                this.hasError = true;
                console.error('üí• Impossible de charger la vid√©o - basculement vers fallback');
                
                // Cache l'indicateur de chargement
                this.hideLoadingIndicator();
                
                // Affiche l'image de fallback
                this.showFallbackImage();
                
                // Cache la vid√©o d√©faillante
                if (this.video) {
                    this.video.style.display = 'none';
                }
            }

            /**
             * AFFICHAGE IMAGE DE FALLBACK
             * 
             * Bascule vers une image statique en cas de probl√®me
             */
            showFallbackImage() {
                if (this.placeholder) {
                    // Arr√™te l'animation du placeholder et le rend statique
                    this.placeholder.style.animation = 'none';
                    this.placeholder.style.background = '#667eea';
                    this.placeholder.style.opacity = '1';
                    this.placeholder.style.zIndex = '2';
                }
                
                console.log('üñºÔ∏è Image de fallback affich√©e');
            }

            /**
             * MASQUER L'INDICATEUR DE CHARGEMENT
             * 
             * Animation douce de disparition
             */
            hideLoadingIndicator() {
                if (!this.loadingIndicator) return;
                
                this.loadingIndicator.classList.add('hidden');
                
                // Supprime l'√©l√©ment du DOM apr√®s l'animation
                setTimeout(() => {
                    if (this.loadingIndicator && this.loadingIndicator.parentNode) {
                        this.loadingIndicator.style.display = 'none';
                    }
                }, 500); // Correspond √† la dur√©e de transition CSS
            }
        }

        /**
         * GESTION DU SCROLL FLUIDE
         * 
         * Pour les liens ancre (#guide)
         */
        function setupSmoothScrolling() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    
                    const targetId = this.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);
                    
                    if (targetElement) {
                        targetElement.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                        
                        console.log(`üìú Scroll fluide vers: ${targetId}`);
                    }
                });
            });
        }

        /**
         * INITIALISATION GLOBALE
         * 
         * Lance tout quand le DOM est pr√™t
         */
        document.addEventListener('DOMContentLoaded', () => {
            console.log('üöÄ DOM charg√© - initialisation des syst√®mes');
            
            // Lance le gestionnaire de vid√©o hero
            new HeroVideoManager();
            
            // Configure le scroll fluide
            setupSmoothScrolling();
            
            console.log('‚úÖ Tous les syst√®mes sont op√©rationnels');
        });

        /**
         * GESTION DES ERREURS GLOBALES
         * 
         * Capture les erreurs non g√©r√©es
         */
        window.addEventListener('error', (e) => {
            console.error('üí• Erreur globale captur√©e:', e.error);
        });

        /**
         * INFORMATIONS DE DEBUG UTILES
         * 
         * Affiche des informations syst√®me utiles dans la console
         */
        console.log('üîß Informations syst√®me:');
        console.log('- User Agent:', navigator.userAgent);
        console.log('- Taille √©cran:', window.screen.width + 'x' + window.screen.height);
        console.log('- Viewport:', window.innerWidth + 'x' + window.innerHeight);
        if ('connection' in navigator) {
            console.log('- Connexion:', navigator.connection.effectiveType);
        }
    </script>
</body>
</html>